{"type":"getPostByPath","data":{"title":"在dice里关于ai的应用","date":"2022-07-05T16:00:00.000Z","description":"","categories":[{"name":"技术","_id":"cl8y02zfq000dek49brcu8x7g"},{"name":"Lua","_id":"cl8y02zgj0016ek4924ajd4eh"}],"tags":[{"name":"Dice","_id":"cl8y02zfp000cek495uzc9g8f"},{"name":"AI","_id":"cl8y02zgf0011ek4996yqa4g1"}],"content":"<div class=\"note primary\"><p>一个失败品…</p>\n</div>\n\n<blockquote>\n<p>使用《署名—非商业性使用—相同方式共享 4.0 协议国际版》（CC BY-NC-SA 4.0）进行授权。<br><span class=\"exturl\" data-url=\"aHR0cHM6Ly9jcmVhdGl2ZWNvbW1vbnMub3JnL2xpY2Vuc2VzL2J5LW5jLXNhLzQuMC9sZWdhbGNvZGUuemgtSGFucw==\">https://creativecommons.org/licenses/by-nc-sa/4.0/legalcode.zh-Hans<i class=\"fa fa-external-link-alt\"></i></span></p>\n</blockquote>\n<h2 id=\"起因\"><a href=\"#起因\" class=\"headerlink\" title=\"起因\"></a>起因</h2><p>非常无聊，于是用正则以及dice的lua回复写了一个调用ai实例，总结了两个ai，青云客与思知。</p>\n<p>使用方法：<br>调用青云客:setUserConf(getDiceQQ(),’ai’,1)<br>调用思知:setUserConf(getDiceQQ(),’ai’,2)</p>\n<h2 id=\"后记\"><a href=\"#后记\" class=\"headerlink\" title=\"后记\"></a>后记</h2><figure class=\"highlight lua\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">.reply set</span><br><span class=\"line\">Regex=(.*)</span><br><span class=\"line\">Lua=</span><br><span class=\"line\"><span class=\"keyword\">if</span> getUserConf(getDiceQQ(),<span class=\"string\">&#x27;ai&#x27;</span>) == <span class=\"number\">1</span> <span class=\"keyword\">then</span></span><br><span class=\"line\">url = <span class=\"string\">&quot;http://api.qingyunke.com/api.php?key=free&amp;appid=0&amp;msg=&quot;</span> .. msg.fromMsg</span><br><span class=\"line\">\tres,data = http.get(url)</span><br><span class=\"line\">\tjson = <span class=\"built_in\">require</span>(<span class=\"string\">&quot;json&quot;</span>)</span><br><span class=\"line\">\tj = json.decode(data)</span><br><span class=\"line\"><span class=\"keyword\">return</span> j.content</span><br><span class=\"line\"><span class=\"keyword\">elseif</span> getUserConf(getDiceQQ(),<span class=\"string\">&#x27;ai&#x27;</span>) == <span class=\"number\">2</span> <span class=\"keyword\">then</span></span><br><span class=\"line\">url = <span class=\"string\">&quot;https://api.ownthink.com/bot?spoken=&quot;</span> .. msg.fromMsg</span><br><span class=\"line\">\tres,data = http.get(url)</span><br><span class=\"line\">\tjson = <span class=\"built_in\">require</span>(<span class=\"string\">&quot;json&quot;</span>)</span><br><span class=\"line\">\tj = json.decode(data)</span><br><span class=\"line\"><span class=\"keyword\">return</span> j.data.info.text</span><br><span class=\"line\"><span class=\"keyword\">end</span></span><br></pre></td></tr></table></figure>","_path":"2022/07/06/ai-reply/","_link":"https://cypress.github.io/2022/07/06/ai-reply/","_id":"cl8y02zfm0009ek496xv8484v"}}