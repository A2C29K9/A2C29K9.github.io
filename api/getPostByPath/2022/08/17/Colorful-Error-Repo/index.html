{"type":"getPostByPath","data":{"title":"Colorful-Error-Repo","date":"2022-08-16T16:00:00.000Z","description":"","categories":[{"name":"技术","_id":"cl8swv8of000de449gqskatcb"},{"name":"Lua","_id":"cl8swv8pb0016e4490s61hmf4"}],"tags":[{"name":"Dice","_id":"cl8swv8om000je449gswzd3b6"}],"content":"<details class=\"note \"><summary><p>secondary</p>\n</summary>\n<p><strong>Colorful-Error-Repo</strong></p>\n<blockquote>\n<p>简单的自定义报错回复模板.</p>\n</blockquote>\n\n</details>\n\n\n<h1 id=\"❡Colorful-Error-Repo-来点不一样的报错吧\"><a href=\"#❡Colorful-Error-Repo-来点不一样的报错吧\" class=\"headerlink\" title=\"❡Colorful-Error-Repo:来点不一样的报错吧\"></a><a href=\"\">❡</a>Colorful-Error-Repo:来点不一样的报错吧</h1><blockquote>\n<p>使用《署名—禁止演绎 4.0 协议国际版》（CC BY-ND 4.0）进行授权。<br><span class=\"exturl\" data-url=\"aHR0cHM6Ly9jcmVhdGl2ZWNvbW1vbnMub3JnL2xpY2Vuc2VzL2J5LW5kLzQuMC9sZWdhbGNvZGUuemgtSGFucw==\">https://creativecommons.org/licenses/by-nd/4.0/legalcode.zh-Hans<i class=\"fa fa-external-link-alt\"></i></span></p>\n</blockquote>\n<blockquote>\n<p>续之前的弦：<span class=\"exturl\" data-url=\"aHR0cHM6Ly9mb3J1bS5rb2tvbmEudGVjaC9kLzExNjgtemhpLWxpbmctamlhby1iZW4tc2kteGlhbmctdG91LW5pYW5nLXppLWppYW4tZ2VuZy1sYW4tZGUtcGFuLWR1YW4tYmFvLWN1by1iaW5nLXppLWRpbmcteWktaHVpLWZ1\">骰娘自检/判断报错并自定义回复<i class=\"fa fa-external-link-alt\"></i></span></p>\n</blockquote>\n<hr>\n<h2 id=\"一、基本信息\"><a href=\"#一、基本信息\" class=\"headerlink\" title=\"一、基本信息\"></a>一、基本信息</h2><ul>\n<li>作者： 简律纯</li>\n<li>联系方式：qq:a2c29k9</li>\n<li>版本：v1.0</li>\n<li>更新日期：暂无</li>\n<li>关键词：暂无</li>\n<li>许可协议：CC BY-ND 4.0</li>\n</ul>\n<hr>\n<h2 id=\"二-、需求\"><a href=\"#二-、需求\" class=\"headerlink\" title=\"二 、需求\"></a>二 、需求</h2><ul>\n<li><input disabled=\"\" type=\"checkbox\"> 更多的lua报错类型列表</li>\n<li><input disabled=\"\" type=\"checkbox\"> 更多时间</li>\n</ul>\n<hr>\n<h2 id=\"三、准备\"><a href=\"#三、准备\" class=\"headerlink\" title=\"三、准备\"></a>三、准备</h2><p>1.暂时用了手册内色子整理的常见报错信息说明。</p>\n<figure class=\"highlight lua\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">module</span> <span class=\"string\">&#x27;%s&#x27;</span> <span class=\"keyword\">not</span> found:</span><br><span class=\"line\">\tno field <span class=\"built_in\">package</span>.<span class=\"built_in\">preload</span>[<span class=\"string\">&#x27;%s&#x27;</span>]</span><br><span class=\"line\">\tno file </span><br><span class=\"line\"><span class=\"comment\">-- 没有把被引用的lua或dll文件放在指定位置（多见于require与loadLua）</span></span><br><span class=\"line\"><span class=\"comment\">-- 解决方式：把所需文件放入Dice存档目录/plugin/或Diceki/lua/，dll文件或require对象必须置于后者</span></span><br><span class=\"line\">attempt to call a <span class=\"literal\">nil</span> value (global <span class=\"string\">&#x27;%s&#x27;</span>)</span><br><span class=\"line\"><span class=\"comment\">-- 将空变量%s用作函数（global表示被调用的是全局变量，local表示本地变量，method表示索引方法）</span></span><br><span class=\"line\">attempt to index a <span class=\"literal\">nil</span> value (global <span class=\"string\">&#x27;%s&#x27;</span>)</span><br><span class=\"line\"><span class=\"comment\">-- 对空变量%s使用索引（只有table等结构可以索引，形如msg.fromMsg）</span></span><br><span class=\"line\">attempt to concatenate a <span class=\"literal\">nil</span> value (<span class=\"keyword\">local</span> <span class=\"string\">&#x27;%s&#x27;</span>)</span><br><span class=\"line\"><span class=\"comment\">-- 使用..连接字符串时连接了一个空变量%s</span></span><br><span class=\"line\">bad argument #<span class=\"number\">1</span> to <span class=\"string\">&#x27;%s&#x27;</span> (<span class=\"built_in\">string</span> expected, got <span class=\"literal\">nil</span>)</span><br><span class=\"line\"><span class=\"comment\">-- 函数%s的第1个参数类型错误，要求类型为string，但实际传入的参数为nil。特别地，got nil表示输入参数为nil或缺少参数</span></span><br><span class=\"line\">value expected</span><br><span class=\"line\"><span class=\"comment\">-- 要求参数，但没有传入</span></span><br><span class=\"line\">attempt to perform arithmetic on a <span class=\"literal\">nil</span> value (global <span class=\"string\">&#x27;%s&#x27;</span>)</span><br><span class=\"line\"><span class=\"comment\">-- 将一个空变量%s当做数字表示</span></span><br><span class=\"line\">bad argument #<span class=\"number\">5</span> to <span class=\"string\">&#x27;format&#x27;</span>(number has no integer representation)</span><br><span class=\"line\"><span class=\"comment\">-- 函数format的第5个参数类型错误，要求是整数，但传入是小数，或者是其余类型不能化为整数</span></span><br><span class=\"line\"><span class=\"string\">&#x27;&#125;&#x27;</span> expected (to <span class=\"built_in\">close</span> <span class=\"string\">&#x27;&#123;&#x27;</span> at line <span class=\"number\">169</span>) near <span class=\"string\">&#x27;%s&#x27;</span></span><br><span class=\"line\"><span class=\"comment\">-- 脚本第169行的左花括号缺少配对的右花括号。此错误也可以由表格内缺少逗号分隔、括号外的中文等原因造成</span></span><br><span class=\"line\"><span class=\"string\">&#x27;end&#x27;</span> expected (to <span class=\"built_in\">close</span> <span class=\"string\">&#x27;function&#x27;</span> at line <span class=\"number\">240</span>) near &lt;eof&gt;</span><br><span class=\"line\"><span class=\"comment\">-- 脚本第240行的function缺少收尾的end，&lt;eof&gt;表示文件结束（找到文件末也没找到）</span></span><br><span class=\"line\"><span class=\"string\">&#x27;then&#x27;</span> expected near <span class=\"string\">&#x27;end&#x27;</span></span><br><span class=\"line\"><span class=\"comment\">-- if then end逻辑结构缺少then</span></span><br><span class=\"line\">unexpected symbol near <span class=\"string\">&#x27;%s&#x27;</span></span><br><span class=\"line\"><span class=\"comment\">-- 符号%s边有无法识读的符号，比如中文字符</span></span><br><span class=\"line\">attempt to get length of a <span class=\"literal\">nil</span> value (<span class=\"keyword\">local</span> <span class=\"string\">&#x27;tab&#x27;</span>)</span><br><span class=\"line\"><span class=\"comment\">-- 对空变量tab作取长度运算（#）</span></span><br><span class=\"line\">attempt to add a <span class=\"string\">&#x27;string&#x27;</span> with a <span class=\"string\">&#x27;string&#x27;</span></span><br><span class=\"line\"><span class=\"comment\">-- 对(不能化为数字的)字符串用加法&#x27;+&#x27;（字符串只能用连接&#x27;..&#x27;）</span></span><br><span class=\"line\">attempt to compare number with <span class=\"built_in\">string</span></span><br><span class=\"line\"><span class=\"comment\">-- 对数字和(不能化为数字的)字符串用比较运算符</span></span><br><span class=\"line\"><span class=\"built_in\">error</span> loading <span class=\"built_in\">module</span> <span class=\"string\">&#x27;%s&#x27;</span> from file</span><br><span class=\"line\"><span class=\"comment\">-- 使用require &quot;%s&quot;时加载出错</span></span><br><span class=\"line\">no visible label <span class=\"string\">&#x27;%s&#x27;</span> <span class=\"keyword\">for</span> &lt;<span class=\"keyword\">goto</span>&gt; at line </span><br><span class=\"line\"><span class=\"comment\">-- 在循环结构中跳转不存在的节点</span></span><br><span class=\"line\">invalid option <span class=\"string\">&#x27;%s&#x27;</span></span><br><span class=\"line\"><span class=\"comment\">-- 传入的参数不是string或不在给定的字符串列表中</span></span><br></pre></td></tr></table></figure>\n\n<h2 id=\"四、引用清单\"><a href=\"#四、引用清单\" class=\"headerlink\" title=\"四、引用清单\"></a>四、引用清单</h2><ol>\n<li><span class=\"exturl\" data-url=\"aHR0cHM6Ly92MmRvY3Mua29rb25hLnRlY2gvemgvbGF0ZXN0L0RldmVsb3BfTWFudWFsLmh0bWwjaWQyMg==\">https://v2docs.kokona.tech/zh/latest/Develop_Manual.html#id22<i class=\"fa fa-external-link-alt\"></i></span></li>\n</ol>\n","_path":"2022/08/17/Colorful-Error-Repo/","_link":"https://cypress.github.io/2022/08/17/Colorful-Error-Repo/","_id":"cl8swv8o50006e4490woedcfr"}}