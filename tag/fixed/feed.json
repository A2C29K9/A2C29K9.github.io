{
    "version": "https://jsonfeed.org/version/1",
    "title": "Cypress - 小柏树 • All posts by \"fixed\" tag",
    "description": "今天浇水了吗？",
    "home_page_url": "https://cypress.github.io",
    "items": [
        {
            "id": "https://cypress.github.io/2022/08/05/Midido/",
            "url": "https://cypress.github.io/2022/08/05/Midido/",
            "title": "Midido 一个更非人性化的手搓midi库",
            "date_published": "2022-08-04T16:00:00.000Z",
            "content_html": "<div class=\"note success\"><p><strong>Midido</strong><br>简单实现用lua输出midi的库。</p>\n</div>\n\n<blockquote>\n<p>使用《署名—非商业性使用—相同方式共享 4.0 协议国际版》（CC BY-NC-SA 4.0）进行授权。<br><span class=\"exturl\" data-url=\"aHR0cHM6Ly9jcmVhdGl2ZWNvbW1vbnMub3JnL2xpY2Vuc2VzL2J5LW5jLXNhLzQuMC9sZWdhbGNvZGUuemgtSGFucw==\">https://creativecommons.org/licenses/by-nc-sa/4.0/legalcode.zh-Hans<i class=\"fa fa-external-link-alt\"></i></span></p>\n</blockquote>\n<table>\n<thead>\n<tr>\n<th align=\"left\">Midido To-do list</th>\n<th align=\"center\">描述</th>\n<th align=\"center\">状态</th>\n</tr>\n</thead>\n<tbody><tr>\n<td align=\"left\">wiki</td>\n<td align=\"center\">用法wiki</td>\n<td align=\"center\">x</td>\n</tr>\n<tr>\n<td align=\"left\">Keyboards’ pack</td>\n<td align=\"center\">键位包</td>\n<td align=\"center\">敬请期待</td>\n</tr>\n<tr>\n<td align=\"left\">songs’ e.g.</td>\n<td align=\"center\">歌曲工程示例</td>\n<td align=\"center\">x</td>\n</tr>\n</tbody></table>\n<h2 id=\"一、基本信息\"><a href=\"#一、基本信息\" class=\"headerlink\" title=\"一、基本信息\"></a>一、基本信息</h2><blockquote>\n<ul>\n<li>作者： 简律纯</li>\n</ul>\n</blockquote>\n<ul>\n<li>联系方式：qq:a2c29k9</li>\n<li>版本：v1.0</li>\n<li>更新日期：暂无</li>\n<li>关键词：暂无</li>\n<li>许可协议：CC BY-NC-SA 4.0</li>\n</ul>\n<h2 id=\"二、详细介绍\"><a href=\"#二、详细介绍\" class=\"headerlink\" title=\"二、详细介绍\"></a>二、详细介绍</h2><h3 id=\"1-简介\"><a href=\"#1-简介\" class=\"headerlink\" title=\"1.简介\"></a>1.简介</h3><blockquote>\n<p>最初是一个设想，毕竟我是写音乐的，主要负责作曲编曲，鸽了快一年后很多粉丝不耐烦了，于是我开始整一些或许大学用得上的东西^比如一个bot ，高考那几天突发奇想，我或许可以教粉丝朋友一起写音乐？那就先从midi序列开始吧！<del>（也可以名正言顺咕咕咕，同时压榨劳动力）</del></p>\n</blockquote>\n<h3 id=\"2-一些教训\"><a href=\"#2-一些教训\" class=\"headerlink\" title=\"2.一些教训\"></a>2.一些教训</h3><blockquote>\n<p>1.之前试过onebot ZBP插件里的timidity，也是手搓midi，但是仍然需要安装ffmpeg和timidity环境，且受到一定的系统环境影响——尽管成功写出了midi文件，但是对于其他那些使用非Windows系统（大家其实更愿意用Macbook）的人（主要是我的作曲家编曲家朋友）来说安装十分困难。<br>zbp关于midi的插件介绍：<br><img src=\"https://dice-forum.s3.ap-northeast-1.amazonaws.com/2022-07-30/1659158099-11773-5d706d6c091bc400.jpg\"></p>\n</blockquote>\n<blockquote>\n<p>2.于是我开始注意到简化使用指令的重要性，并在此机缘巧合下找到了 <span class=\"exturl\" data-url=\"aHR0cHM6Ly93d3cuYXV0b3BpYW5vLmNuLw==\">AutoPiano<i class=\"fa fa-external-link-alt\"></i></span>。<br>我并不在意它的关于编写输出音乐的任何逻辑或是别的什么，我找到了站长，并向他提出了几个问题——就比如，键盘谱是如何想出来的。<br>下图为孤勇者唱谱：<br><img src=\"https://dice-forum.s3.ap-northeast-1.amazonaws.com/2022-07-30/1659157938-716855-img20220730131141.jpg\"></p>\n</blockquote>\n<blockquote>\n<p>3.综上，这未尝不是一个很好的开端，至少我明白了手搓midi的原理，以及一些更切合实际的东西，就比如简化指令。</p>\n</blockquote>\n<h2 id=\"三、TO-DO-LIST\"><a href=\"#三、TO-DO-LIST\" class=\"headerlink\" title=\"三、TO-DO LIST\"></a>三、TO-DO LIST</h2><ul>\n<li><p><input disabled=\"\" type=\"checkbox\">  编写用法wiki<br>用法非常复杂，这脚本就算是raw了，我需要讲清楚如何写出一段音阶（最简单的一段中音区 C D E F G A B midi片段）；如何写出一段chord（和弦），并在此和弦基础上继续写主旋律；如何变换调式调性（F# -&gt; Ab）；如何修改速度等等。</p>\n</li>\n<li><p><input disabled=\"\" type=\"checkbox\">  编写最基础的简化指令包，虽然目前写好的raw版本是功能最全的，但是其编写midi的方式（我目前主要靠写lua脚本再 <code>loadLua()</code> 或者使用basicFunction1.0（啊现在应该叫FuncLib2.0）内注释掉的 <code>load()()</code> 来写midi）过于硬核，所以需要一个诸如 <code>midi:0333-1 0333-2</code> 或是 <code>midi:E5 E5 E5 C5</code> 这样的简单易用指令。</p>\n</li>\n<li><p><input checked=\"\" disabled=\"\" type=\"checkbox\">  一个音源键位包，或者一个键位函数包，用于简化脚本写midi时的打谱环节。</p>\n</li>\n</ul>\n<h2 id=\"四、脚本输出实例试听\"><a href=\"#四、脚本输出实例试听\" class=\"headerlink\" title=\"四、脚本输出实例试听\"></a>四、脚本输出实例试听</h2><p>C大调音阶：<br>[upl-file uuid=e45d0254-ca7a-498c-b00d-069b2de5a74b size=257B]c-major-scale.zip[/upl-file]<br>Am和弦：<br>[upl-file uuid=d2589143-51ab-4ff7-aa9f-96734e60d4b3 size=321B]chord-example.zip[/upl-file]<br>时值变化：<br>[upl-file uuid=d9db9d92-396a-48c2-918c-2ecf3ef37e26 size=260B]duration-example.zip[/upl-file]</p>\n<h2 id=\"五、最后\"><a href=\"#五、最后\" class=\"headerlink\" title=\"五、最后\"></a>五、最后</h2><blockquote>\n<p>脚本将会在简化指令版写完发布，愿大家都能名正言顺的咕咕咕，也愿大家都热爱生活，热爱音乐！</p>\n</blockquote>\n",
            "tags": [
                "Dice",
                "FIXED"
            ]
        },
        {
            "id": "https://cypress.github.io/2022/08/05/print-fixed/",
            "url": "https://cypress.github.io/2022/08/05/print-fixed/",
            "title": "改写print",
            "date_published": "2022-08-04T16:00:00.000Z",
            "content_html": "<div class=\"note success\"><p><strong>print fixed</strong><br>简单实现改写print，将print内容写入文件生成日志。</p>\n</div>\n\n<figure class=\"highlight lua\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">-------------------------------------------------------------------------------</span></span><br><span class=\"line\"><span class=\"comment\">-- Print 改写. @简律纯 @gexi</span></span><br><span class=\"line\"><span class=\"comment\">-------------------------------------------------------------------------------</span></span><br><span class=\"line\">writeToFile = <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"params\">( str )</span></span></span><br><span class=\"line\">    <span class=\"keyword\">local</span> filename = <span class=\"string\">&quot;print.log&quot;</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> <span class=\"keyword\">not</span> fileLogOut <span class=\"keyword\">then</span></span><br><span class=\"line\">        fileLogOut = <span class=\"built_in\">io</span>.<span class=\"built_in\">open</span>(filename, <span class=\"string\">&quot;w&quot;</span>)</span><br><span class=\"line\">    <span class=\"keyword\">else</span></span><br><span class=\"line\">        fileLogOut = <span class=\"built_in\">io</span>.<span class=\"built_in\">open</span>(filename, <span class=\"string\">&quot;a&quot;</span>)</span><br><span class=\"line\">    <span class=\"keyword\">end</span></span><br><span class=\"line\">    fileLogOut:<span class=\"built_in\">write</span>(<span class=\"built_in\">os</span>.<span class=\"built_in\">date</span>(<span class=\"string\">&quot;%H:%M:%S&quot;</span>,<span class=\"built_in\">os</span>.<span class=\"built_in\">time</span>())..<span class=\"string\">&quot; &quot;</span>..str..<span class=\"string\">&quot;\\n&quot;</span>)</span><br><span class=\"line\">    fileLogOut:<span class=\"built_in\">close</span>()</span><br><span class=\"line\"><span class=\"keyword\">end</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">babe_tostring</span><span class=\"params\">(...)</span></span></span><br><span class=\"line\">    <span class=\"keyword\">local</span> num = <span class=\"built_in\">select</span>(<span class=\"string\">&quot;#&quot;</span>, ...);</span><br><span class=\"line\">    <span class=\"keyword\">local</span> args = &#123; ... &#125;;</span><br><span class=\"line\">    <span class=\"keyword\">local</span> outs = &#123;&#125;;</span><br><span class=\"line\">    <span class=\"keyword\">for</span> i = <span class=\"number\">1</span>, num <span class=\"keyword\">do</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> i &gt; <span class=\"number\">1</span> <span class=\"keyword\">then</span></span><br><span class=\"line\">            outs[#outs + <span class=\"number\">1</span>] = <span class=\"string\">&quot;\\t&quot;</span>;</span><br><span class=\"line\">        <span class=\"keyword\">end</span></span><br><span class=\"line\">        outs[#outs + <span class=\"number\">1</span>] = <span class=\"built_in\">tostring</span>(args[i]);</span><br><span class=\"line\">    <span class=\"keyword\">end</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"built_in\">table</span>.<span class=\"built_in\">concat</span>(outs);</span><br><span class=\"line\"><span class=\"keyword\">end</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">local</span> just_print = <span class=\"built_in\">print</span>;</span><br><span class=\"line\"><span class=\"keyword\">local</span> babe_output = <span class=\"function\"><span class=\"keyword\">function</span><span class=\"params\">(...)</span></span></span><br><span class=\"line\">    just_print(...);</span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"keyword\">local</span> str = babe_tostring(...);</span><br><span class=\"line\">    <span class=\"keyword\">if</span> writeToFile <span class=\"keyword\">then</span> writeToFile(str) <span class=\"keyword\">end</span></span><br><span class=\"line\"><span class=\"keyword\">end</span></span><br><span class=\"line\"><span class=\"built_in\">print</span> = babe_output</span><br></pre></td></tr></table></figure>",
            "tags": [
                "FIXED"
            ]
        }
    ]
}